# Table definition
namespace: sidekick
type: DBConfig
table_name: users
depends_on: []
create_stmt: >
  CREATE TABLE IF NOT EXISTS users (
    id SERIAL PRIMARY KEY,
    created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
    blocked BOOLEAN NOT NULL DEFAULT FALSE
    );
trigger_stmt:
  - DROP TRIGGER IF EXISTS update_users_updated_at ON users;
    CREATE TRIGGER update_users_updated_at BEFORE UPDATE ON users
    FOR EACH ROW EXECUTE PROCEDURE updated_at_trigger();
description:
  table: >
    Base User Identity. If the user is **blocked** no REST or GraphQL actions can be performed.  
    User concept will be extended by other tables. Usually going by the nameing convention users__<decoration> with references
    via users__id
  columns:
    id: Auto incremental integer
    created_at: Timestamp when the user was created
    updated_at: Timestamp when the last modification has happend
    blocked: Boolean
